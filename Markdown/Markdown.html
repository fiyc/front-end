<!DOCTYPE html>
<html >

<head>
<title>Markdown编辑</title>
<meta charset="utf-8"/>
<!--import css file-->
<link href="../CommonResource/bootstrap3/css/bootstrap.css" type="text/css" rel="stylesheet"></link>
<link href="../CommonResource/bootstrap3/css/bootstrap.css.map" type="text/css" rel="stylesheet"></link>
<link href="../CommonResource/bootstrap3/css/bootstrap-theme.css" type="text/css" rel="stylesheet"></link>
<link href="../CommonResource/bootstrap3/css/bootstrap-theme.css.map" type="text/css" rel="stylesheet"></link>
<link href="MarkdownStyle.css" type="text/css" rel="stylesheet"></link>
<!--import js file-->
<script type="text/javascript" src="../CommonResource/jquery-1.12.0.min.js"></script>
<!-- <script type="text/javascript" src="scripts/bootstrap.min.js"></script> -->
<script type="text/javascript" src="scripts/auto-line-number.js"></script>
<script src="https://cdn.bootcss.com/showdown/1.3.0/showdown.min.js"></script> 
<script type="text/javascript" src="Markdown.js"></script>
<script type="text/javascript" >
$(function(){

	var converter = new showdown.Converter();
	$("#text").keyup(function(){
		debugger;
 			var htmlStr = converter.makeHtml($("#text").val()); 
 			$("#htmlShow").html(htmlStr);
 	});

 	$("textarea").on('keydown',function(e){
	    if(e.keyCode == 9){
	        e.preventDefault();
	        var indent = '    ';
	        var start = this.selectionStart;
	        var end = this.selectionEnd;
	        var selected = window.getSelection().toString();
	        selected = indent + selected.replace(/\n/g,'\n'+indent);
	        this.value = this.value.substring(0,start) + selected + this.value.substring(end);
	        this.setSelectionRange(start+indent.length,start+selected.length);
	    }
	})
});
</script>
</head>

<body>
<div class="header">
	<h1>MarkDown</h1>
	<hr>
</div>
<div class="markdown_body">
	<div class="markdown_Edit" style="float:left">
		<textarea type="text" id="text" class="text"></textarea>
	</div>

	<div class="markdown_Show" id="htmlShow" style="float:right">
	</div>
</div>


 <script>
 	
 	$("#text").setTextareaCount({
 		width: "30px",
 		bgColor: "#fff",
 		color: "#000 ",
 		display: "inline-block"
 	});
 	
 	
 	
 </script>
</body>
</html>
